<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-178267214-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-178267214-1');
</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Efe Yakar</title>
        <link rel="apple-touch-icon" sizes="180x180" href="assets/img/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="assets/img/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="assets/img/favicon-16x16.png">
        <link rel="manifest" href="assets/img/site.webmanifest">
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v5.13.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Saira+Extra+Condensed:500,700" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Muli:400,400i,800,800i" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/2.css" rel="stylesheet" />
        <link href="css/styles.css" rel="stylesheet" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@master/devicon.min.css">
        <script language="Javascript" type="text/javascript" src="./editarea_0_8_2/edit_area/edit_area_full.js"></script>
        <script language="Javascript" type="text/javascript">
            // initialisation
            editAreaLoader.init({
                id: "example_1"	// id of the textarea to transform		
                ,start_highlight: true	// if start with highlight
                ,allow_resize: "both"
                ,allow_toggle: true
                ,word_wrap: true
                ,language: "en"
                ,syntax: "php"	
            });
            
            editAreaLoader.init({
                id: "example_2"	// id of the textarea to transform	
                ,start_highlight: true
                ,allow_toggle: false
                ,language: "en"
                ,syntax: "html"	
                ,toolbar: "search, go_to_line, |, undo, redo, |, select_font, |, syntax_selection, |, change_smooth_selection, highlight, reset_highlight, |, help"
                ,syntax_selection_allow: "css,html,js,php,python,vb,xml,c,cpp,sql,basic,pas,brainfuck"
                ,is_multi_files: true
                ,EA_load_callback: "editAreaLoaded"
                ,show_line_colors: true
            });
            
            editAreaLoader.init({
                id: "example_3"	// id of the textarea to transform	
                ,start_highlight: true	
                ,font_size: "8"
                ,font_family: "verdana, monospace"
                ,allow_resize: "y"
                ,allow_toggle: false
                ,language: "fr"
                ,syntax: "css"	
                ,toolbar: "new_document, save, load, |, charmap, |, search, go_to_line, |, undo, redo, |, select_font, |, change_smooth_selection, highlight, reset_highlight, |, help"
                ,load_callback: "my_load"
                ,save_callback: "my_save"
                ,plugins: "charmap"
                ,charmap_default: "arrows"
                    
            });
            
            editAreaLoader.init({
                id: "example_4"	// id of the textarea to transform		
                //,start_highlight: true	// if start with highlight
                //,font_size: "10"	
                ,allow_resize: "no"
                ,allow_toggle: true
                ,language: "de"
                ,syntax: "python"
                ,load_callback: "my_load"
                ,save_callback: "my_save"
                ,display: "later"
                ,replace_tab_by_spaces: 4
                ,min_height: 350
            });
            
            // callback functions
            function my_save(id, content){
                alert("Here is the content of the EditArea '"+ id +"' as received by the save callback function:\n"+content);
            }
            
            function my_load(id){
                editAreaLoader.setValue(id, "The content is loaded from the load_callback function into EditArea");
            }
            
            function test_setSelectionRange(id){
                editAreaLoader.setSelectionRange(id, 100, 150);
            }
            
            function test_getSelectionRange(id){
                var sel =editAreaLoader.getSelectionRange(id);
                alert("start: "+sel["start"]+"\nend: "+sel["end"]); 
            }
            
            function test_setSelectedText(id){
                text= "[REPLACED SELECTION]"; 
                editAreaLoader.setSelectedText(id, text);
            }
            
            function test_getSelectedText(id){
                alert(editAreaLoader.getSelectedText(id)); 
            }
            
            function editAreaLoaded(id){
                if(id=="example_2")
                {
                    open_file1();
                    open_file2();
                }
            }
            
            function open_file1()
            {
                var new_file= {id: "to\\ é # € to", text: "$authors= array();\n$news= array();", syntax: 'php', title: 'beautiful title'};
                editAreaLoader.openFile('example_2', new_file);
            }
            
            function open_file2()
            {
                var new_file= {id: "Filename", text: "<a href=\"toto\">\n\tbouh\n</a>\n<!-- it's a comment -->", syntax: 'html'};
                editAreaLoader.openFile('example_2', new_file);
            }
            
            function close_file1()
            {
                editAreaLoader.closeFile('example_2', "to\\ é # € to");
            }
            
            function toogle_editable(id)
            {
                editAreaLoader.execCommand(id, 'set_editable', !editAreaLoader.execCommand(id, 'is_editable'));
            }
            function adder(line,charnum,lookfor){
                //parameters:(line,charnum,lookfor)
                console.log(line[charnum]);
                console.log(lookfor);
                if (lookfor != line[charnum]){
                    console.log("not same");
                    line = line.slice(0,charnum+1) + lookfor + line.slice(charnum+1);
                    
                }
                else{
                    console.log("same dud");
                }
                return(line);

            }
            function substracter(line,charnum,lookfor){                
                console.log(line[charnum]);
                console.log(lookfor);
                if (lookfor != line[charnum]){
                    console.log("not same");
                    line = line.slice(0,charnum+1) + lookfor + line.slice(charnum+1);
                    
                }
                else{
                    console.log("same dud");
                }
                return(line);
                
            }
            function spaceCheck(tabNum){




            }
            function varCheck(tabNum){




}
            function myFunction() {
                
                
                var codeIn = ($(".inner").val());
                console.log(codeIn);
                const splitLines = str => str.split(/\r?\n/);
                var splitted = splitLines(codeIn);
                var currentLine = 0;
                var currentChar = 0;
                var tabNum = 0;
                var isNotInPar = true;
                var neededChar = "";
                for (currentLine = 0;currentLine < Object.keys(splitted).length; currentLine++){

                    while (currentChar < splitted[currentLine].length){
                        //console.log(splitted[currentLine]);

                        if (splitted[currentLine][currentChar] == "=" && isNotInPar){
                            neededChar = " ";
                            if(splitted[currentLine][currentChar+1] == "="){
                                splitted[currentLine] = adder(splitted[currentLine],currentChar-1,neededChar);
                            }
                            else if(splitted[currentLine][currentChar-1] == "="){
                                splitted[currentLine] = adder(splitted[currentLine],currentChar,neededChar);
                            }

                            else if(splitted[currentLine][currentChar-1] == "!" || splitted[currentLine][currentChar-1] == "<" || splitted[currentLine][currentChar-1] == ">" ){
                                splitted[currentLine] = adder(splitted[currentLine],currentChar-2,neededChar);

                                splitted[currentLine] = adder(splitted[currentLine],currentChar+1,neededChar);
                            }
                            else{
                                splitted[currentLine] = adder(splitted[currentLine],currentChar-1,neededChar);
                                splitted[currentLine] = adder(splitted[currentLine],currentChar+1,neededChar);

                            }


                            
                        }
                        if (splitted[currentLine][currentChar] == "("){
                            neededChar = " ";
                            splitted[currentLine] = adder(splitted[currentLine],currentChar-1,neededChar);
                            isNotInPar = false;
                        }
                        if (splitted[currentLine][currentChar] == ")"){
                            neededChar = " ";
                            splitted[currentLine] = adder(splitted[currentLine],currentChar,neededChar);
                            isNotInPar = true;
                        }
                        if (splitted[currentLine][currentChar] == ","&& isNotInPar){
                            neededChar = " ";
                            splitted[currentLine] = adder(splitted[currentLine],currentChar,neededChar);
                            //When I wrote this, only God and I understood what I was doing
                            //Now, God only knows
   
                        }

                        if (splitted[currentLine][currentChar] == "+"&& isNotInPar){
                            neededChar = " ";
                            if(splitted[currentLine][currentChar+1] == "+"){
                                splitted[currentLine] = adder(splitted[currentLine],currentChar-1,neededChar);
                            }
                            else if(splitted[currentLine][currentChar-1] == "+"){
                                splitted[currentLine] = adder(splitted[currentLine],currentChar,neededChar);
                            }




                            
                        }

                        if (splitted[currentLine][currentChar] == "-"&& isNotInPar){
                            neededChar = " ";
                            if(splitted[currentLine][currentChar+1] == "-"){
                                splitted[currentLine] = adder(splitted[currentLine],currentChar-1,neededChar);
                            }
                            else if(splitted[currentLine][currentChar-1] == "-"){
                                splitted[currentLine] = adder(splitted[currentLine],currentChar,neededChar);
                            }




                            
                        }
                        if (splitted[currentLine][currentChar] == "/" || splitted[currentLine][currentChar] == "*"&& isNotInPar){
                            neededChar = " ";
                            splitted[currentLine] = adder(splitted[currentLine],currentChar-1,neededChar);  
                            splitted[currentLine] = adder(splitted[currentLine],currentChar,neededChar);  

                        }

                        if (splitted[currentLine][currentChar] == "{"&& isNotInPar){
                            neededChar = "\n";
                            tabNum++;
                            splitted[currentLine] = adder(splitted[currentLine],currentChar-1,neededChar);
                        }
                        if (splitted[currentLine][currentChar] == "}"&& isNotInPar){
                            neededChar = "\n";
                            tabNum--;
                            splitted[currentLine] = adder(splitted[currentLine],currentChar-1,neededChar);
                        }

                        //console.log(splitted[currentLine][currentChar]);

                        currentChar++;
                    }
/*It might not be good practice to leave these FIX commnets, 
but they greatly reflect my emotions*/
//; end line if not in () /fixed for all/
// add user options for)
//var name checker
//constant UPPERCASE
//most importantly indenter
//press f for the hours ahead
//F
//{ unless in '' or ""
//OOF
                }
                //console.log('hit');
                var x = splitted.join('\n');
                console.log(x);
                $('#example_1').val(x);

































































            }
        </script>
    </head>
    <body id="page-top">
        <!-- Navigation-->
        <div class="aim">HEY</div>

        <textarea  class="inner" id="example_1" style="height: 350px; width: 100%;" name="test_1"></textarea>
        <button class="raise" onclick="myFunction()">Click me</button>
        <div></div>
        <textarea id="myTextarea" name="something">This text gets removed</textarea>
        <!-- Bootstrap core JS-->
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
            <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.bundle.min.js"></script>
            <!-- Third party plugin JS-->
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
            <!-- Core theme JS-->
            <script src="js/scripts.js"></script>
    </body>
</html>
